<h2 class="content-header">All Books</h2>
<hr />

<div ng-if="fetchInProgress">
    <div class="spinner">
        <div></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
    </div>
</div>

<div ng-if="!categories" class="block text-center red"><strong>Sorry, BookArena library is currently empty!</strong></div>

<div id="book-container" ng-if="categories">
    <input type="search" ng-model="searchText" placeholder="filter books by name, author or category" />
    <div ng-repeat="category in categories | filter:searchText" class="book-wrapper">
        <div class="success alert-box">
            {{category.title}}
        </div>
        <div ng-if="!category.books.length"><h4>No books are available for this category.</h4></div>
        <div ng-if="category.books.length" ng-repeat="book in category.books | filter:searchText" class="books">
            <div class="book-body">
                <a ng-href="#/books/book/{{book.bookId}}">
                    <img ng-src="/Content/Images/{{book.imageFileName}}" alt="{{book.title}}" />
                </a>
            </div>
        </div>
    </div>
</div>